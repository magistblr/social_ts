(this["webpackJsonpsocial_1.0_ts"]=this["webpackJsonpsocial_1.0_ts"]||[]).push([[0],{11:function(e,s,t){e.exports={wrapper:"Users_wrapper__3nngw",logo:"Users_logo__QHSjf",descr_wrapper_outer:"Users_descr_wrapper_outer__2Whhg",descr_wrapper_inner:"Users_descr_wrapper_inner__2XT0f",descr:"Users_descr__1Rj5K",descr_status:"Users_descr_status__24AxJ",location:"Users_location__1jpYC",location_city:"Users_location_city__2Do-m",pagination:"Users_pagination__2fKqc",pagination_wrapper:"Users_pagination_wrapper__2-vfX",pagination_item_selected:"Users_pagination_item_selected__3mJJz"}},13:function(e,s,t){e.exports={posts:"MyPosts_posts__9Y59T",post:"MyPosts_post__2wS-p",new_post:"MyPosts_new_post__C3IhM",new_post_textarea:"MyPosts_new_post_textarea__qfhTp",posts_btn:"MyPosts_posts_btn__29dr_",btn_button:"MyPosts_btn_button__2QB03"}},16:function(e,s,t){e.exports={new_message_wrapper:"NewMessage_new_message_wrapper__1CmWe",new_message:"NewMessage_new_message__1eWPh",new_message_btn:"NewMessage_new_message_btn__2osm5"}},18:function(e,s,t){e.exports={user:"ProfileInfo_user__2TDrZ",user_img:"ProfileInfo_user_img__2xBB2",user_name:"ProfileInfo_user_name__xNmFt",user_description_list:"ProfileInfo_user_description_list__3BH0i"}},19:function(e,s,t){e.exports={wrapper:"Post_wrapper__3KSP_",avatar:"Post_avatar__2f4zC",avatar_img:"Post_avatar_img__2IHO-",message_wrapper:"Post_message_wrapper__96s_b",messages_message:"Post_messages_message__2R41_"}},20:function(e,s,t){e.exports={wrapper_friend:"FriendMessage_wrapper_friend__1O19g",friend:"FriendMessage_friend__3gZAn",friend_img:"FriendMessage_friend_img__3ASaE",message_friend:"FriendMessage_message_friend__1oaFm"}},23:function(e,s,t){e.exports={wrapper:"Sidebar_wrapper__13cMU",friends_label:"Sidebar_friends_label__1yany",friends_items:"Sidebar_friends_items__1aNcY"}},24:function(e,s,t){e.exports={wrapper:"Profile_wrapper__3ysYR",content_img:"Profile_content_img__84EmG",content:"Profile_content__1CSvy"}},25:function(e,s,t){e.exports={users_wrapper:"Message_users_wrapper__Nvix9",dialogs_users:"Message_dialogs_users__kukkg",dialogs_users_message:"Message_dialogs_users_message__2zvZD"}},26:function(e,s,t){e.exports={item:"DialogItem_item__n7hXj",item_mark:"DialogItem_item_mark__2g0FK",item_name:"DialogItem_item_name__3Umts","item-name":"DialogItem_item-name__2MUBs",active:"DialogItem_active__2Ny-Q"}},27:function(e,s,t){e.exports={dialogs_wrapper:"Dialogs_dialogs_wrapper__1FMMd",items:"Dialogs_items__FbC7O",label:"Dialogs_label__QPpqT"}},34:function(e,s,t){e.exports={list:"Navbar_list__zuUDk",list_item:"Navbar_list_item__2S3w8",active:"Navbar_active__36ZXq"}},35:function(e,s,t){e.exports={friends_avatar:"Friends_friends_avatar__CAp_D",friends_name:"Friends_friends_name__37GVk"}},36:function(e,s,t){e.exports={header:"Header_header__2ylUg",header_img:"Header_header_img__1dAnZ",header_login:"Header_header_login__MUUDF"}},48:function(e,s,t){e.exports={lds_roller:"Spinner_lds_roller__3twnJ"}},56:function(e,s,t){},57:function(e,s,t){},82:function(e,s,t){"use strict";t.r(s);var a=t(1),n=t.n(a),r=t(21),i=t.n(r),c=(t(56),t(4)),o=(t(57),t(0)),l=function(){return Object(o.jsx)("div",{children:"News"})},d=function(){return Object(o.jsx)("div",{children:"Music"})},_=function(){return Object(o.jsx)("div",{children:"Settings"})},u=t(45),j=t(46),g=t(51),b=t(50),m=t(10),p=t(15),f=t(2),O=t(47),h=t.n(O).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"bb8b9c32-3a16-4cd6-8ee3-c45b813c19f5"}}),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return h.get("users?page=".concat(e,"&count=").concat(s)).then((function(e){return e.data}))},v=function(e){return h.post("follow/".concat(e))},w=function(e){return h.delete("follow/".concat(e))},N="FOLLOW",P="UNFOLLOW",y="SET_USERS",S="SET_CURRENT_PAGE",U="SET_TOTAL_USERS_COUNT",M="TOGGLE_IS_FETCHING",T="TOGGLE_IS_FOLLOWING_PROGRESS",C={users:[],pageSize:5,totalUsersCount:11,currentPage:1,isFetching:!0,followingInProgress:[]},I=function(e){return{type:M,isFetching:e}},F=function(e,s){return{type:T,isFetching:e,userId:s}},A=t(12),k=t.p+"static/media/users.dce446e0.png",E=t(11),D=t.n(E),W=function(e){for(var s=[],t=1;t<=25;t++)s.push(t);return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"users__pagination",children:s.map((function(s){return Object(o.jsx)("div",{className:"users__pagination-wrapper",onClick:function(){e.onPageChanged(s)},children:Object(o.jsx)("span",{className:e.currentPage===s?"users__pagination-item_selected":"",children:s})})}))}),e.users.map((function(s){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:D.a.wrapper,children:[Object(o.jsxs)("div",{className:D.a.logo,children:[Object(o.jsxs)(A.b,{to:"/profile/"+s.id,children:[" ",Object(o.jsx)("img",{src:null!=s.photos.small?s.photos.small:k,alt:"avatar"})]}),Object(o.jsx)("div",{className:"users__btn",children:s.followed?Object(o.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===s.id})),onClick:function(){e.unfollow(s.id)},children:"Unfollow"}):Object(o.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===s.id})),onClick:function(){e.follow(s.id)},children:"Follow"})})]}),Object(o.jsx)("div",{className:D.a.descr_wrapper_outer,children:Object(o.jsxs)("div",{className:D.a.descr_wrapper_inner,children:[Object(o.jsxs)("div",{className:D.a.descr,children:[Object(o.jsx)("div",{className:"users__descr-name",children:s.name}),Object(o.jsx)("div",{className:D.a.descr_status,children:s.status})]}),Object(o.jsxs)("div",{className:D.a.location,children:[Object(o.jsxs)("div",{className:D.a.location_country,children:["u.location.country",","]}),Object(o.jsx)("div",{className:D.a.location_city,children:"u.location.city"})]})]})})]})},s.id)}))]})},G=t(48),z=t.n(G);var B=function(){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:z.a.lds_roller,children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})},H=function(e){Object(g.a)(t,e);var s=Object(b.a)(t);function t(){var e;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).onPageChanged=function(s){e.props.getUsers(s,e.props.state.usersPage.pageSize)},e}return Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.state.usersPage.currentPage,this.props.state.usersPage.pageSize)}},{key:"render",value:function(){return Object(o.jsxs)(o.Fragment,{children:[this.props.state.usersPage.isFetching?Object(o.jsx)(B,{}):null,Object(o.jsx)(W,{totalUsersCount:this.props.state.usersPage.totalUsersCount,pageSize:this.props.state.usersPage.pageSize,currentPage:this.props.state.usersPage.currentPage,onPageChanged:this.onPageChanged,users:this.props.state.usersPage.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.state.usersPage.followingInProgress})]})}}]),t}(n.a.Component),L=Object(m.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:function(e){return function(s){F(!0,e),v(e).then((function(t){0===t.data.resultCode&&s(function(e){return{type:N,userId:e}}(e)),s(F(!1,e))}))}},unfollow:function(e){return function(s){F(!0,e),w(e).then((function(t){0===t.data.resultCode&&s(function(e){return{type:P,userId:e}}(e)),s(F(!1,e))}))}},setCurrentPages:function(e){return{type:S,currentPage:e}},toggleFollowingProgress:F,getUsers:function(e,s){return function(t){t(I(!0)),x(e,s).then((function(e){var s;t(I(!1)),t(function(e){return{type:y,users:e}}(e.items)),t((s=e.totalCount,{type:U,count:s}))}))}}})(H),R=t(23),K=t.n(R),J=t(34),Y=t.n(J),Z=function(e){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:Y.a.list,children:Object(o.jsx)("div",{className:Y.a.list_item,children:Object(o.jsx)("div",{children:Object(o.jsx)(A.b,{to:e.url,children:e.name})})})})})},q=t(35),Q=t.n(q),X=function(e){return Object(o.jsxs)("div",{className:"sidebar__friends-item",children:[Object(o.jsx)("div",{className:Q.a.friends_avatar}),Object(o.jsx)("div",{className:Q.a.friends_name,children:e.name})]})},V=function(e){var s=e.navbar.map((function(e){return Object(o.jsx)(Z,{url:e.url,name:e.name,id:e.id},e.id)})),t=e.friends.map((function(e){return Object(o.jsx)(X,{name:e.name,id:e.id},e.id)}));return Object(o.jsxs)("nav",{className:K.a.wrapper,children:[s,Object(o.jsxs)("div",{className:"sidebar__friends",children:[Object(o.jsx)("div",{className:K.a.friends_label,children:"Friends"}),Object(o.jsx)("div",{className:K.a.friends_items,children:t})]})]})},$=t(18),ee=t.n($),se=function(e){return Object(o.jsxs)("div",{className:ee.a.user,children:[Object(o.jsx)("img",{className:ee.a.user_img,src:"https://yt3.ggpht.com/ytc/AAUvwniWcUyONM4Tu8W_39ae7hyeTOrxPjdmjeKjyb6U=s900-c-k-c0x00ffffff-no-rj",alt:"avatar"}),Object(o.jsxs)("div",{className:"content__user-wrapper",children:[Object(o.jsx)("div",{className:ee.a.user_name,children:'"Dima"'}),Object(o.jsx)("div",{className:"content__user-description",children:Object(o.jsx)("ul",{className:ee.a.user_description_list,children:Object(o.jsx)("li",{children:"info"})})})]})]})},te=t(24),ae=t.n(te),ne=t(19),re=t.n(ne),ie=function(e){return Object(o.jsxs)("div",{className:re.a.wrapper,children:[Object(o.jsx)("div",{className:re.a.avatar,children:Object(o.jsx)("img",{className:re.a.avatar_img,src:"https://yt3.ggpht.com/ytc/AAUvwniWcUyONM4Tu8W_39ae7hyeTOrxPjdmjeKjyb6U=s900-c-k-c0x00ffffff-no-rj",alt:"avatar"})}),Object(o.jsx)("div",{className:re.a.message_wrapper,children:Object(o.jsx)("div",{className:"messages_message",children:e.message})})]})},ce=t(13),oe=t.n(ce),le=function(e){var s=e.profilePage.posts.map((function(e){return Object(o.jsx)(ie,{message:e.message},e.id)})),t=e.profilePage.newPostText;return Object(o.jsxs)("div",{className:oe.a.posts,children:[Object(o.jsx)("div",{className:oe.a.post,children:"My posts"}),Object(o.jsx)("div",{className:oe.a.new_post,children:Object(o.jsx)("textarea",{className:oe.a.new_post_textarea,onChange:function(s){var t=s.currentTarget.value;e.onPostChangeText(t)},value:t,placeholder:"your news..."})}),Object(o.jsx)("div",{className:oe.a.posts_btn,children:Object(o.jsx)("button",{className:oe.a.btn_button,onClick:function(){e.addPost(t)},children:"Send"})}),s]})},de=t(83),_e="ADD_POST",ue="ON_POST_CHANGE",je={posts:[{id:Object(de.a)(),message:"Hi, how are you?"},{id:Object(de.a)(),message:"It's my first post"}],newPostText:"",profile:null},ge=function(e){return{type:ue,newText:e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case _e:return Object(f.a)(Object(f.a)({},e),{},{posts:[].concat(Object(p.a)(e.posts),[{id:Object(de.a)(),message:s.newText}])});case ue:return Object(f.a)(Object(f.a)({},e),{},{newPostText:s.newText});default:return e}},me=Object(m.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(s){e(function(e){return{type:_e,newText:e}}(s)),e(ge(""))},onPostChangeText:function(s){e(ge(s))}}}))(le),pe=function(e){var s=e.state.profilePage.profile;return Object(o.jsxs)("div",{className:ae.a.wrapper,children:[Object(o.jsx)("header",{className:"content__header",children:Object(o.jsx)("img",{className:ae.a.content_img,src:"https://static9.depositphotos.com/1656823/1156/i/950/depositphotos_11563134-stock-photo-blue-water.jpg",alt:"background"})}),Object(o.jsxs)("div",{className:ae.a.content,children:[Object(o.jsx)(se,{profile:s}),Object(o.jsx)(me,{})]})]})},fe=t(36),Oe=t.n(fe),he=t.p+"static/media/soc_logo.5829bfdb.png",xe=function(e){return Object(o.jsx)("header",{className:Oe.a.header,children:Object(o.jsx)("img",{className:Oe.a.header_img,src:he,alt:"logo"})})},ve=t(25),we=t.n(ve),Ne=function(e){return Object(o.jsxs)("div",{className:we.a.users_wrapper,children:[Object(o.jsx)("div",{className:we.a.dialogs_users_message,children:e.message}),Object(o.jsxs)("div",{className:we.a.dialogs_users,children:[Object(o.jsx)("div",{className:"dialogs__users-avatar",children:Object(o.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AAUvwniWcUyONM4Tu8W_39ae7hyeTOrxPjdmjeKjyb6U=s900-c-k-c0x00ffffff-no-rj",alt:"avatar"})}),Object(o.jsx)("div",{className:"dialogs__users-name",children:"Me"})]})]})},Pe=t(26),ye=t.n(Pe),Se=function(e){var s="/messages/".concat(e.id);return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:ye.a.item,children:[Object(o.jsx)("div",{className:ye.a.item_mark}),Object(o.jsx)("div",{className:ye.a.item_name,children:Object(o.jsx)(A.b,{to:s,children:e.name})})]})})},Ue=t(20),Me=t.n(Ue),Te=function(e){return Object(o.jsxs)("div",{className:Me.a.wrapper_friend,children:[Object(o.jsxs)("div",{className:Me.a.friend,children:[Object(o.jsx)("div",{className:"dialogs__users-avatar-friend",children:Object(o.jsx)("img",{className:Me.a.friend_img,src:"https://yt3.ggpht.com/ytc/AAUvwniWcUyONM4Tu8W_39ae7hyeTOrxPjdmjeKjyb6U=s900-c-k-c0x00ffffff-no-rj",alt:"avatar"})}),Object(o.jsx)("div",{className:"dialogs__users-name-friend",children:"Dima"})]}),Object(o.jsx)("div",{className:Me.a.message_friend,children:e.message})]})},Ce=t(27),Ie=t.n(Ce),Fe="NEW_MESSAGE",Ae="SEND_MESSAGE",ke={dialogs:[{id:Object(de.a)(),name:"Dima"},{id:Object(de.a)(),name:"Andrey"},{id:Object(de.a)(),name:"Sveta"},{id:Object(de.a)(),name:"Sasha"},{id:Object(de.a)(),name:"Victor"},{id:Object(de.a)(),name:"Valera"}],messages:[{id:Object(de.a)(),message:"Hi"}],friendMessages:[{id:Object(de.a)(),message:"How are you?"}],newMessageBody:""},Ee=function(e){return{type:Fe,newText:e}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case Fe:return Object(f.a)(Object(f.a)({},e),{},{newMessageBody:s.newText});case Ae:return Object(f.a)(Object(f.a)({},e),{},{messages:[].concat(Object(p.a)(e.messages),[{id:Object(de.a)(),message:s.newText}])});default:return Object(f.a)({},e)}},We=t(16),Ge=t.n(We),ze=function(e){var s=e.dialogsPage.newMessageBody;return Object(o.jsxs)("div",{className:Ge.a.new_message_wrapper,children:[Object(o.jsx)("div",{className:Ge.a.new_message,children:Object(o.jsx)("textarea",{className:"".concat(Ge.a.new_message," textarea"),value:s,onChange:function(s){var t=s.currentTarget.value;e.onNewMessageChange(t)},placeholder:"Enter your next"})}),Object(o.jsx)("div",{className:Ge.a.new_message_btn,children:Object(o.jsx)("button",{onClick:function(){var t=s;e.onSendMessageClick(t)},className:"".concat(Ge.a.new_message_btn," button"),children:"Send"})})]})},Be=Object(m.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{onSendMessageClick:function(s){e({type:Ae,newText:s}),e(Ee(""))},onNewMessageChange:function(s){e(Ee(s))}}}))(ze),He=Object(m.b)((function(e){return{dialogsPage:e.dialogsPage}}))((function(e){var s=e.state,t=s.dialogsPage.dialogs.map((function(e){return Object(o.jsx)(Se,{name:e.name,id:e.id},e.id)})),a=s.dialogsPage.messages.map((function(e){return Object(o.jsx)(Ne,{message:e.message,id:e.id},e.id)})),n=s.dialogsPage.friendMessages.map((function(e){return Object(o.jsx)(Te,{message:e.message,id:e.id},e.id)}));return Object(o.jsxs)("div",{className:Ie.a.dialogs_wrapper,children:[Object(o.jsxs)("div",{className:Ie.a.items,children:[Object(o.jsx)("div",{className:Ie.a.label,children:"Dialogs"}),t]}),Object(o.jsxs)("div",{children:[n,a,Object(o.jsx)(Be,{})]})]})})),Le=function(){return Object(o.jsx)("div",{children:"LOGIN"})},Re=function(e){var s=e.state,t=s.friendsBar.friends,a=s.sidebarPage.navbar;return Object(o.jsx)("div",{className:"app-wrapper",children:Object(o.jsxs)("div",{className:"app-wrapper-inner",children:[Object(o.jsx)(xe,{}),Object(o.jsx)(V,{friends:t,navbar:a}),Object(o.jsxs)("div",{className:"content-wrapper",children:[Object(o.jsx)(c.a,{path:"/profile/:userId?",render:function(){return Object(o.jsx)(pe,{state:s})}}),Object(o.jsx)(c.a,{path:"/messages",render:function(){return Object(o.jsx)(He,{state:s})}}),Object(o.jsx)(c.a,{path:"/users",render:function(){return Object(o.jsx)(L,{state:s})}}),Object(o.jsx)(c.a,{path:"/news",render:function(){return Object(o.jsx)(l,{})}}),Object(o.jsx)(c.a,{path:"/music",render:function(){return Object(o.jsx)(d,{})}}),Object(o.jsx)(c.a,{path:"/settings",render:function(){return Object(o.jsx)(_,{})}}),Object(o.jsx)(c.a,{path:"/login",render:function(){return Object(o.jsx)(Le,{})}})]})]})})},Ke=t(28),Je={navbar:[{id:Object(de.a)(),name:"Profile",url:"/profile"},{id:Object(de.a)(),name:"Messages",url:"/messages"},{id:Object(de.a)(),name:"Users",url:"/users"},{id:Object(de.a)(),name:"News",url:"/news"},{id:Object(de.a)(),name:"Music",url:"/music"},{id:Object(de.a)(),name:"Settings",url:"/settings"}]},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je;return e},Ze={friends:[{id:Object(de.a)(),name:"Andrew"},{id:Object(de.a)(),name:"Sasha"},{id:Object(de.a)(),name:"Sveta"}]},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze;return e},Qe=t(49),Xe="SET_USER_DATA",Ve={users:null,email:null,login:null,isAuth:!1},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case Xe:return Object(f.a)(Object(f.a)(Object(f.a)({},e),s.data),{},{isAuth:!0});default:return e}},es=Object(Ke.b)({profilePage:be,dialogsPage:De,sidebarPage:Ye,friendsBar:qe,usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case N:return Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e.id===s.userId?Object(f.a)(Object(f.a)({},e),{},{followed:!0}):e}))});case P:return Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e.id===s.userId?Object(f.a)(Object(f.a)({},e),{},{followed:!1}):e}))});case y:return Object(f.a)(Object(f.a)({},e),{},{users:s.users});case S:return Object(f.a)(Object(f.a)({},e),{},{currentPage:s.currentPage});case U:return Object(f.a)(Object(f.a)({},e),{},{totalUsersCount:s.count});case M:return Object(f.a)(Object(f.a)({},e),{},{isFetching:s.isFetching});case T:return Object(f.a)(Object(f.a)({},e),{},{followingInProgress:s.isFetching?[].concat(Object(p.a)(e.followingInProgress),[s.userId]):e.followingInProgress.filter((function(e){return e!==s.userId}))});default:return e}},auth:$e}),ss=Object(Ke.c)(es,Object(Ke.a)(Qe.a));window.store=ss,i.a.render(Object(o.jsx)(A.a,{children:Object(o.jsx)(m.a,{store:ss,children:Object(o.jsx)(Re,{state:ss.getState()})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.94c086ce.chunk.js.map